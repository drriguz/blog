
---
title: Rust(2) Ownership
date: 2019-11-18
categories:  
    - Programing
    - Rust
---
传统的C语言需要开发人员手动管理内存，而像Java、Go这样的语言是通过垃圾回收机制自动进行内存管理。但通常垃圾回收机制本身较为复杂且需要不定期的进行（也就是说实际当内存不在需要的时候并不一定能得到及时的释放）。而rust语言采取的所有权机制（Ownership）是它区别于其他语言的一个重要特征，它被用来进行高效安全的内存管理。

<!-- more -->

# Ownership概念

在rust中，内存是由一个所有权管理系统进行管理的，它会使用一些由编译器在编译时生成的规则。这个内存管理系统的好处在于，不会像JVM stop-the-world一样暂停应用程序或者使得应用程序在运行的时候变慢。那么到底怎么样去定义ownership呢？有如下的一套规则：

* rust中每一个值都有一个变量作为与其对应的owner
* 一个值在同一时间有且仅有一个owner
* 当owner离开作用域的时候，值所在的空间会被释放(调用对象的`drop`方法)